=== Curved regular grids
:imagesdir: images/
:stem: latexmath

A curved regular grid represents road surface data in proximity of an arbitrary road centerline. The road surface is tiled into a curved grid. Longitudinal cuts are parallel to the road centerline. Lateral cuts are orthogonal to the road centerline. One road data value is assigned to each tile. Road surface data usually represents road elevation but may also be used for other data, for example friction coefficients.

[[image-opencrg_introductory_example]]
image::opencrg_introductory_example.png[img2, 900, title = "OpenCRG road surface description using u/v-coordinates and x/y-coordinates."]

Curved regular grids use a reference line coordinate system. The road centerline is given by a curved reference line. A curved reference line is defined by series of low-precision heading angles. The u-direction follows the tangent of the reference line. The v-direction is orthogonal to the u-direction. Road surface data is given in z-direction orthogonal to the u/v-plane.

A curved regular grid may be placed in an inertial x/y-coordinate system by providing a high-precision start position in x/y-coordinates. To avoid drift when integrating along the reference line, an optional high-precision end position in x/y-coordinates may be provided. If such a position is provided, both forward integration and backward integration can be used for calculating the position of the reference line. The given start and end positions can be compared to the integration results to distribute errors along the reference line.

<<image-opencrg_introductory_example>> shows an example of an OpenCRG road surface description.

// TODO add an image
[[image-banking_slope]]
image::banking_slope.png[banking_slope, title="Schematic drawing of banking and slope."]

The reference line may be complemented by slope or banking (see <<image-banking_slope>>).